function randomNumber(e,t){return Math.floor(Math.random()*(t-e))+e}function randomFrom(e){return e[Math.floor(Math.random()*e.length)]}function shuffle(e){for(var t,a,o=e.length;o;t=Math.floor(Math.random()*o),a=e[--o],e[o]=e[t],e[t]=a);return e}function addCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function findInArray(e,t){let a=e.indexOf(t);return a>-1?a:null}function removeFromArray(e,t){for(var a=e.length-1;a--;)e[a]==t&&e.splice(a,1)}function percentOf(e,t){return 0==e||0==t?0:Math.round(100*t/e)}function sendEvent(e,t,a,o){o?ga("send","event",{eventCategory:e,eventAction:t,eventLabel:a,eventValue:o}):a?ga("send","event",{eventCategory:e,eventAction:t,eventLabel:a}):ga("send","event",{eventCategory:e,eventAction:t})}const allDecks=[{name:"F Plus Deck",description:"Actual statements from actual people covered on The F Plus Podcast. The internet has said a lot of stupid things, and you're about to defend most of them.",cards:["We don't know how to make fat people {into thin people or how to make thin people into fat people.}","{Slavery} did not exist in America.","The car has never changed {since the invention of the automobile.}","I am fully capable of going backwards {and forwards in time and at will.}","Most people are not {intellectual enough to understand} Family Guy.","{There is no such thing as a “best”} when it comes to sports or sports teams.","As of 2002, {love went extinct.}","{Being a juggalo} is just like being a normal person.","{Warhammer 40,000} can make anything awesome.","{Man used to live} for hundreds of years disease free.","The first polio vaccine, the Salk vaccine{, was a total disaster}.","There is no difference between night dreams and daytime dreams {except about elephant.}","{Dolphins} know how to access multiple dimensions.","{It is legal to} post nude photos of someone without their consent.","Laura Ingalls Wilder is {God.}","{The Kardashians} are in league with Al-Qaeda.","Light creates {gravity.}","{Canoe} complications are enough to strain any relationship.","{A toilet} is becoming a completely foreign object to women.","The Latino people have never had {a revolution.}","No one on Earth is {gay.}","Ice is the {natural enemy of} bottled water.","We're all {goth} now.","{Leonardo DiCaprio's salary} is bankrupting America.","{Pubic lice are a turn on because} when you go down on someone, they're like right in your nose.","Clowns are {sexy.}","{Dried pee} smells a lot like perfume.","There's nothing perverted about {sniffing a pretty girl's seat cushion.}","Minors find it difficult to {masturbate.}","The inner penis {is before} the outer penis of course.","It's natural for a person to be sexually {attracted to Pokemon.}","I was having sex with my ladyfriend {and we're both prego.}","Women were {made to be} spanked by men.","Jelqing (manually wringing blood into your penis) {is positively REQUIRED just prior to sex.}","Sticking a penis in anyone's mouth, man or woman{, has never been conducive to the benefit of anyone.}","{Ghosts can haunt your anus and} give you mad uncontrollable bouts of farting.","You can't {write porn} as a virgin.","Everyone has a {tickling} fetish.","There is no rational argument for not being a {brony.}","It's almost impossible to quit {giving yourself wedgies.}","America should put all its prisoners {into one giant super prison.}","{Small breasts} are a thing of the past.","You can improve your sex power by {eating garlic.}"]},{name:"Celebrity Lies",description:"NONE OF THESE ARE TRUE. There, now we can't get sued for what it says on these cards.",cards:["Nancy Reagan kept a {handgun} in her hair.","{Justin Bieber} has an IQ of 186.","Damon Wayans Jr. is actually {Damon Wayans Sr. with a wig on.}","Shaquille O'Neal has {memorized pi to 256 places.}","Michael Bay {directed Boyhood, but gave credit to} Richard Linklater.","Britney Spears {invented tubthumping.}","David Beckham credits {wiccan magick} as the reason for his success in football.","The Mercury Thermometer was {invented by Freddy Mercury.}","{The first couple Matchbox 20} albums are actually really good.","{Stevie Knicks} has never taken drugs.","“Goop” is the word that Gwyneth Paltrow uses for {semen.}","Kanye West doesn't get {the credit he deserves.}","Guy Fieri has 3 {Michelin stars.}","Paul Wall and Chamillionaire met {at Seminary.}","{Bruce Lee} was black.","Toby Keith converted {to Islam in 2013.}","Beyoncé has an {alpaca ranch in the Himalayas.}","The one thing Kurt Vonnegut truly hated was {potatoes.}","Jenny McCarthy meant to say that {vacuums cause autism.}","Iggy Azalea and Azalea Banks {are the same person.}","After leaving Apple, Steve Wozniak got a job as {a hedge fund manager.}","Benedict Cumberbatch was born and raised in {Tuscaloosa, Alabama.}","Marvin Gaye's Let's Get It On is actually about {fistfights.}","An accident at a seance caused Jon Stewart{'s soul to inhabit Trevor Noah's body.}","The most common request to a barber is {make me look like Kevin Spacey.}","Owen Wilson's nose is {a prosthetic.}","Seth Rogan's penis looks like {Jonah Hill.}","Scarlett Johansson's real full name is {Bubba Dumptruck McGillicuddy, III.}","{Christopher Walken} is the most successful black actor in Hollywood.","Chris Pratt's feet {smell of fresh pine needles year round.}","Thomas Jefferson said the tree of liberty must be watered with {Mountain Dew Code Red.}","Ru Paul is just {Ron Paul} with a dress on.","N.W.A.'s “F*** Tha Police” is about {Ice Cube's hatred for Sting.}"]},{name:"Science “Facts”",description:"There's a lot of weird but interesting facts in science that actually turn out to be true! This deck contains none of them.",cards:["Honey bees can {speak Korean.}","Eating a carrot a day will {eventually turn your skin orange.}","If a rabbit {hears a D# note,} it will immediately attack any other rabbit it sees.","3 days after milk spoils, it will {smell like lilac.}","The moon and sun are the {same thing. At night the sun simply cools down.}","{Dogs} are the most venomous animal in the world.","Salt in your eyes will {improve your vision.}","A cat's vertically-split pupils allow it {to see ghosts, but only the ghosts of} other cats.","Rain is caused by a {blue cloud and a red cloud having} an argument","{Pouring sugar on} a turtle will cause its shell to melt.","Sweat is created by {small aphid-like creatues} that live inside your pores.","Zebras are created when {a white horse and a black horse} have sex.","The human need to sneeze is just {a desperate cry for attention.}","PCP was originally used as a {water substitute for American soldiers} in World War I.","If we don't make changes now{, E will equal mc^3} within 10 years.","{Cocaine} improves heart function when taken in moderation.","{Gangrene} will heal naturally if given enough time.","{The iPhone} was the key piece of technology that allowed humans to finally travel to the moon.","Some Jewish males are born {without foreskins.}","Bear attacks can be prevented with {belly rubs.}","Exposure to {the vacuum of space} will change your sexual orientation.","Microchips run 1.75 times faster when covered in {milk.}","{Gravity} is a constant everywhere on Earth, except Mexico.","The pattern known as “plaid” {doesn't actually exist.}","{Flashlights} produce small nuclear explosions.","{There genuinely are} monsters under children's beds.","{Snow} is a side effect of nuclear fallout.","Dogs are {only colorblind when they are} not barking."]},{name:"Twitter #bullshit",description:"A series of actual “facts” Montrith found on Twitter, somebody tweeted these, and the grammar is atrocious.",cards:["Free advice to guys - girls like being called {baby girl}!","Raising minimum wage causes {inflation.}","Only if the world {smokes weed} together we will have world peace.","Beards should have their own {trousers.}","White people cry when {nature} turns on them.","{Dark matter} killed the dinosaurs.","Jesus was pretty explicit about not {baking cakes for} gay people.","{Aborted fetuses} are used as a flavor enhancer in many sodas","{Cosplayers} make the world a better place.","{The cuteness of} someone decreases quickly if they are liberal, democrat or a feminist.","Objectivist {charity} is the best kind.","most conspiracy theorists have been proven {to be spot on.}","No Muslim was {arrested} after 9/11. Many Israelis were.","It's a well known fact that {all karaoke} leads to sex.","Nobody {never not} fell in love!","Today's liberalism is basically {an anti-Christian} religion.","If you don't post on social media you can't gain {muscles.}","{Handjobs} do in fact promote abstinence.","{No ones gonna fuck with} my juggalo body guard!","The fact women can have abortions {and men can't} is unfair.","All the cool kids say {cheevos.} Fact.","{The smarter you are,} the more skeptical you are about climate change.","{Us white people} suffer the most racism in America.","People with depression just need to {go out for a jog.}","Reiki is 100% effective, but energy fields {are disrupted by asking for evidence.}","All fluffy {Mexicans} have delicious thigh.","The only way to cure mental illness is {through prayer.}","Literally the best thing about modern life is being able to {order Chipotle online.}","My parents are proud of the fact that I {run a furry convention.}","Indians steal way too {many Taco Bell sauces} and don't care if anyone's watching.","The government wants us all to be {unemployed.}","Obama is the {antchrist.}","Nobody knows where {Peru really is.}","Deep fried cheese alone makes {for a perfect dinner, really.}","{Revenge porn} is nowhere near defamation.","Few people can pull off the {fedora + trenchcoat look} as well as I do.","Poor people are {genetically inferior to} middle and upper class people.","Metalcore and {anime?} Now that's a winning combination!","{Valentine's Day} is a feminist plot."]},{name:"RANDOM",description:"Let me be honest with you, all of the cards in this deck are just the cards that didn't fit in any other deck.",cards:["Froot Loops are spelled that way because the cereal contains {blood.}","Spaghetti and Meatballs is known as {Pasketti and Meatbulbs} in Italy.","{A barn owl} is the only animal on earth that can feel love.","No one understands how {drums} work.","The best selling death metal album of all time is {Babel by Mumford & Sons.}","The keys to Steinway pianos are made from {human finger bones.}","The constitution {must be fed with 20ml of honey per day} or it starts to create amendments.","The best way to get white wine out of a shirt is {with red wine.}","People who wear glasses {are all liars.}","{Everyone playing this game with you} is a lizard person.","{Sand dollars} are valid US currency.","IBM's Deep Blue supercomputer is trying to figure out {how many Fast & Furious movies there are.}","{The Wrongest Words} is a government test for autism.","{Salt} needs more sugar.","{Zombies} caused the end of the Roman Empire."]}],settings={timeToPresent:30},audioSrc="/audio/",soundBeginTalking=new Howl({src:["/audio/time-is-now-585.mp3","/audio/time-is-now-585.ogg"],volume:.9}),soundPresentationOver=new Howl({src:["/audio/decay-475.mp3","/audio/decay-475.ogg"],volume:.9});function resetRoundVariables(){app.round.phase="presenting",app.round.activePlayerIndex=-1,app.round.dealerIndex=0,app.round.playerPresenting=!1,app.round.presentationTimer=void 0,app.round.presentationTimeLeft=settings.timeToPresent,app.round.cardsPresented=[],app.round.votesSubmitted=0}function resetUIVariables(){app.ui.upVoteIndex=-1,app.ui.downVoteIndex=-1,app.ui.iVoted=!1}function changeFavicon(e){var t=document.createElement("link"),a=document.getElementById("dynamic-favicon");t.id="dynamic-favicon",t.rel="shortcut icon",t.href=e,a&&document.head.removeChild(a),document.head.appendChild(t)}Vue.directive("focus",{inserted:function(e){e.focus()}});var app=new Vue({el:"#app",data:{roomCode:"",gameName:"wrongest",isRoomHost:!1,inRoom:!1,gameStarted:!1,gameOver:!1,maxRounds:0,allDecks:allDecks,chosenDeck:{},my:{name:"",socketID:"",card:"",playerIndex:-1},gameDeck:{},players:[],cardsPlayed:[],round:{phase:"",number:0,dealerIndex:-1,activePlayerIndex:-1,playerPresenting:!1,presentationTimer:void 0,presentationTimeLeft:settings.timeToPresent,cardsPresented:[],votesSubmitted:0},ui:{nameEntered:!1,deckName:"",upVoteIndex:-1,downVoteIndex:-1,iVoted:!1},statementHistory:[],voteHistory:[]},methods:{createRoom(){const e=this;e.roomCode=function(e){let t="";const a="ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let o=0;o<e;o++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}(4),socket.emit("createRoom",{roomCode:e.roomCode,gameName:e.gameName}),e.isRoomHost=!0,e.inRoom=!0;let t=new URL(location.protocol+"//"+location.host+location.pathname);t.searchParams.set("room",e.roomCode),window.history.pushState({},"",t)},joinRoom(){const e=this;socket.emit("joinRoom",{roomCode:e.roomCode,gameName:e.gameName}),socket.emit("requestPlayers",e.roomCode),e.isRoomHost=!1,e.inRoom=!0;let t=new URL(location.protocol+"//"+location.host+location.pathname);t.searchParams.set("room",e.roomCode),window.history.pushState({},"",t)},updateMyInfo(){const e=this,t={name:e.my.name,socketID:e.my.socketID,card:"",score:0};e.ui.nameEntered?(e.my.playerIndex=-1,e.players.forEach((function(t,a){t.socketID==e.my.socketID&&(e.players[a].name=e.my.name)}))):e.players.push(t),e.players.forEach((function(t,a){t.socketID==e.my.socketID&&(e.my.playerIndex=a)})),e.ui.nameEntered=!0,e.sendPlayerUpdate(),e.my.playerIndex<0&&alert("WARNING: I have a player index of "+e.my.playerIndex+"! This should not happen. I am a bug.")},sendPlayerUpdate(){const e=this;socket.emit("updatePlayers",{roomCode:e.roomCode,players:e.players,gameStarted:e.gameStarted,roundNumber:e.round.number})},changeDeck(){const e=this;let t=e.allDecks.filter((t=>t.name==e.ui.deckName));e.chosenDeck=t[0]},startTheGame(){const e=this;let t=shuffle(e.chosenDeck.cards);e.gameDeck.cards=t,e.dealOutCards(),3==e.computedPlayerCount?e.maxRounds=6:e.maxRounds=e.computedPlayerCount,socket.emit("startTheGame",{roomCode:e.roomCode,gameName:e.gameName,players:e.players,gameDeck:e.gameDeck,maxRounds:e.maxRounds})},dealOutCards(){const e=this;e.players.forEach((function(t,a){e.players[a].card=e.gameDeck.cards[0],e.gameDeck.cards.shift()}))},sendGameDeck(){socket.emit("sendGameDeck",{roomCode:self.roomCode,gameDeck:self.gameDeck})},dealCard(){const e=this;e.round.activePlayerIndex++,socket.emit("startPresenting",{roomCode:e.roomCode,activePlayerIndex:e.round.activePlayerIndex,activePlayerName:e.players[e.round.activePlayerIndex].name}),soundBeginTalking.play()},presentationFinished(){const e=this;app.round.playerPresenting=!1,app.resetPresentationTimer(),socket.emit("donePresenting",{roomCode:e.roomCode,activePlayerIndex:e.round.activePlayerIndex,activePlayerName:e.players[e.round.activePlayerIndex].name,activePlayerCard:e.players[e.round.activePlayerIndex].card}),soundPresentationOver.play()},startVoting(){socket.emit("startVoting",{roomCode:this.roomCode,cardsPresented:this.round.cardsPresented})},voteUp(e){const t=this;t.ui.upVoteIndex=e,t.ui.downVoteIndex==e&&(t.ui.downVoteIndex=-1)},voteDown(e){const t=this;t.ui.downVoteIndex=e,t.ui.upVoteIndex==e&&(t.ui.upVoteIndex=-1)},submitVotes(){const e=this;socket.emit("submitVotes",{roomCode:e.roomCode,votingPlayerIndex:e.my.playerIndex,votingPlayerName:e.my.name,downVoteIndex:e.ui.downVoteIndex,upVoteIndex:e.ui.upVoteIndex}),e.ui.iVoted=!0},startNextRound(){const e=this;e.players.push(e.players.shift()),e.round.number+=1,e.dealOutCards();const t=e.statementHistory.concat(e.round.cardsPresented);e.statementHistory=t,socket.emit("startNextRound",{roomCode:e.roomCode,gameName:e.gameName,players:e.players,gameDeck:e.gameDeck,statementHistory:e.statementHistory,roundNumber:e.round.number})},sendGameOver(){const e=this,t=e.statementHistory.concat(e.round.cardsPresented);e.statementHistory=t,socket.emit("gameOver",{roomCode:e.roomCode,gameName:e.gameName,players:e.players,gameDeck:e.gameDeck,statementHistory:e.statementHistory,roundNumber:e.round.number})},startPresentationTimer(){const e=this;e.round.presentationTimeLeft=settings.timeToPresent,e.round.presentationTimer=setInterval((()=>{e.round.presentationTimeLeft-=.05,e.round.presentationTimeLeft<=0&&e.computedAmIPresenting&&e.presentationFinished()}),50)},resetPresentationTimer(){const e=this;clearInterval(e.round.presentationTimer),e.round.presentationTimer=void 0,e.round.presentationTimeLeft=settings.timeToPresent},cardText(e){const t=this;if(t.gameStarted&&t.computedAmIPresenting){return e.replace("{",'<span class="secret-text">').replace("}","</span>")}return"presenting"==t.round.phase&&t.round.activePlayerIndex<t.my.playerIndex?e.replace(/\{.*?\}/,"..."):e.replace("{","").replace("}","")}},computed:{computedPlayerCount(){const e=this;return e.players&&e.players.length>=0?e.players.length:0},computedCanIAdvanceTheGame(){const e=this;return"presenting"==e.round.phase?e.round.activePlayerIndex+1==e.my.playerIndex&&!e.round.playerPresenting||0==e.my.playerIndex&&e.players.length==e.round.activePlayerIndex+1&&!e.round.playerPresenting:"voting"==e.round.phase&&(0==e.my.playerIndex&&e.round.votesSubmitted>=e.computedPlayerCount)},computedAmIPresenting(){const e=this;return 1==e.round.playerPresenting&&e.round.activePlayerIndex==e.my.playerIndex},computedAreAllVotesCast(){return this.round.votesSubmitted>=this.computedPlayerCount},computedDashOffset(){let e=percentOf(this.round.presentationTimeLeft,settings.timeToPresent);return(251-percentOf(e,251)).toFixed(2)+"px"},computedPlayersByScore(){return[...this.players].sort((function(e,t){return e.score<t.score?1:e.score>t.score?-1:0}))},computedStatementsByScore(){let e=[...this.statementHistory].sort((function(e,t){return e.score<t.score?1:e.score>t.score?-1:0})),t=e.filter((t=>t.score>=e[0].score));return{wrongest:e.filter((t=>t.score<=e[e.length-1].score)),leastWrong:t,all:e}}},mounted:function(){const e=this;var t=new URLSearchParams(window.location.search);t.has("create")?e.createRoom():t.has("room")?(e.roomCode=t.get("room").toUpperCase(),e.joinRoom()):t.has("join")&&document.getElementById("EnterRoomCode").focus()}});socket.on("getSocketID",(function(e){console.info("Player socketID is "+e),app.my.socketID=e})),socket.on("joinRoom",(function(e){})),socket.on("requestPlayers",(function(e){console.log("The client wants players from me!"),app.isRoomHost&&(socket.emit("updatePlayers",{roomCode:app.roomCode,players:app.players,gameStarted:app.gameStarted}),console.log("I'm the host! I gave the room all the players I know about!"))})),socket.on("updatePlayers",(function(e){console.log("THE PLAYERS HAVE BEEN UPDATED!!!!!!!!"),app.players=e.players,app.gameStarted=e.gameStarted,app.round.number=e.roundNumber})),socket.on("startTheGame",(function(e){app.players=e.players,app.gameDeck=e.gameDeck,app.maxRounds=e.maxRounds,app.gameStarted=!0,app.round.number=1,app.round.dealerIndex=0,app.round.phase="presenting",app.players.forEach((function(e,t){e.socketID==app.my.socketID&&(app.my.playerIndex=t)})),app.my.playerIndex>-1&&(app.my.card=app.players[app.my.playerIndex].card),changeFavicon("wrongest/favicons/favicon.ico")})),socket.on("startPresenting",(function(e){app.round.activePlayerIndex=e.activePlayerIndex,app.round.playerPresenting=!0,app.startPresentationTimer()})),socket.on("donePresenting",(function(e){app.round.cardsPresented.push({card:e.activePlayerCard,playerIndex:e.activePlayerIndex,playerName:e.activePlayerName,score:0}),app.round.playerPresenting=!1,app.resetPresentationTimer()})),socket.on("startVoting",(function(e){app.round.cardsPresented=e.cardsPresented,app.round.phase="voting"})),socket.on("submitVotes",(function(e){app.voteHistory.push({downVoteIndex:e.downVoteIndex,voterName:e.votingPlayerName,voted:"down",presenter:app.round.cardsPresented[e.downVoteIndex].playerName,card:app.round.cardsPresented[e.downVoteIndex].card});app.voteHistory.push({upVoteIndex:e.upVoteIndex,voterName:e.votingPlayerName,voted:"up",presenter:app.round.cardsPresented[e.upVoteIndex].playerName,card:app.round.cardsPresented[e.upVoteIndex].card}),app.players[e.downVoteIndex].score-=1,app.round.cardsPresented[e.downVoteIndex].score-=1,app.players[e.upVoteIndex].score+=1,app.round.cardsPresented[e.upVoteIndex].score+=1,app.round.votesSubmitted+=1,app.round.votesSubmitted,app.computedPlayerCount})),socket.on("startNextRound",(function(e){app.players=e.players,app.gameDeck=e.gameDeck,app.round.number=e.roundNumber,app.statementHistory=e.statementHistory,resetRoundVariables(),resetUIVariables(),app.players.forEach((function(e,t){e.socketID==app.my.socketID&&(app.my.playerIndex=t)})),app.my.playerIndex>-1&&(app.my.card=app.players[app.my.playerIndex].card)})),socket.on("gameOver",(function(e){app.players=e.players,app.statementHistory=e.statementHistory,resetRoundVariables(),resetUIVariables(),app.round.phase="GAME OVER",app.gameOver=!0}));